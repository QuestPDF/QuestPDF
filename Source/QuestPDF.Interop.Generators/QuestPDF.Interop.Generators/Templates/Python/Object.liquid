QUESTPDF_CDEF += r"""
    {% for typedef in CallbackTypedefs %}
    {{ typedef }}
    {% endfor %}

    {% for header in Headers %}
    {{ header }}
    {% endfor %}
"""

class {{ ClassName }}:
    def __init__(self, target_pointer):
        self.target_pointer = target_pointer

{% for method in Methods %}
    {% if method.DeprecationMessage %}@deprecated("{{ method.DeprecationMessage }}"){% endif %}
    def {{ method.PythonMethodName }}({{ method.PythonMethodParameters | array.join ", " }}) -> {% if method.PythonMethodReturnType %}'{{ method.PythonMethodReturnType }}'{% else %} None {% endif %}:
{% for callback in method.Callbacks %}
        @questpdf_ffi.callback("void(void*)")
        def {{ callback.InternalCallbackName }}({{ callback.PythonParameterName }}_pointer):
            {{ callback.PythonParameterName }}_object = {{ callback.CallbackArgumentTypeName }}({{ callback.PythonParameterName }}_pointer)
            {{ callback.PythonParameterName }}({{ callback.PythonParameterName }}_object)
{% endfor %}

        result = questpdf.lib.{{ method.InteropMethodName }}({{ method.InteropMethodParameters | array.join ", " }})
        {% if method.PythonMethodReturnType %}return {{ method.PythonMethodReturnType }}(result){% endif %}
{% endfor %}
