{% for method in Methods %}
[UnmanagedCallersOnly(EntryPoint = "{{ method.NativeName }}", CallConvs = new[] { typeof(CallConvCdecl) })]
public static {{ method.ReturnType }} {{ method.ManagedName }}({{ method.MethodParameters | array.join ", " }})
{
    var containerObject = UnboxHandle<{{ method.TargetObjectType }}>({{ method.TargetObjectParameterName }});
    {% if method.ShouldFreeTarget %}FreeHandle({{ method.TargetObjectParameterName }});{%- endif %}

    {%- capture targetCall -%}
    containerObject.{{ method.ApiName }}({{ method.TargetMethodParameters | array.join ", " }})
    {%- endcapture -%}

{% if method.ReturnType == "void" %}
    {{ targetCall }};
{%- else %}
    var result = {{ targetCall }};
    return BoxHandle(result);
{%- endif %}
}
{% endfor %}